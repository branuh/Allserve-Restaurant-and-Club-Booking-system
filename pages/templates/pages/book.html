{% extends 'base.html' %}
{% load static %}

{% block title %}Book a Room or Service{% endblock %}

{% block content %}
<div class="hero_bg_box">
    <div class="img-box">
        <img src="{% static 'images/overview.jpg' %}" alt="">
    </div>
</div>
<section class="book_section layout_padding">
    <div class="container">
        <div class="heading_container heading_center">
            <h2>Book a Room or Service</h2>
        </div>
        <div class="row">
            <div class="col-md-7 mx-auto">
                <form method="post" action="{% url 'book' %}" id="bookingForm">
                    {% csrf_token %}
                    <div class="book_form-container">
                        <div>
                            <div>
                                <label for="serviceType">Service Type:</label>
                                <select id="serviceType" name="serviceType" class="form-control">
                                    <option value="room">Room Booking</option>
                                    <option value="conference">Conference/Meeting Room</option>
                                    <option value="meal">Meal Service</option>
                                    <option value="recreation">Recreational Service</option>
                                </select>
                            </div>

                            <div id="roomFields" class="service-fields">
                                <label for="roomType">Room Type:</label>
                                <select id="roomType" name="roomType" class="form-control">
                                    <option value="standard">Standard</option>
                                    <option value="deluxe">Deluxe</option>
                                    <option value="suite">Suite</option>
                                    <option value="executive">Executive</option>
                                </select>
                                <label for="numDays">Number of Days:</label>
                                <input type="number" id="numDays" name="numDays" class="form-control" min="1">
                            </div>

                            <div id="conferenceFields" class="service-fields" style="display: none;">
                                <label for="conferenceType">Conference Type:</label>
                                <select id="conferenceType" name="conferenceType" class="form-control">
                                    <option value="meeting">Meeting Room</option>
                                    <option value="seminar">Seminar Room</option>
                                    <option value="event">Event Hall</option>
                                </select>
                                <label for="numAttendees">Number of Attendees:</label>
                                <input type="number" id="numAttendees" name="numAttendees" class="form-control" min="1">
                                <label for="conferenceDate">Date:</label>
                                <input type="date" id="conferenceDate" name="conferenceDate" class="form-control">
                            </div>

                            <div id="mealFields" class="service-fields" style="display: none;">
                                <label for="mealType">Meal Type:</label>
                                <select id="mealType" name="mealType" class="form-control">
                                    <option value="breakfast">Breakfast</option>
                                    <option value="lunch">Lunch</option>
                                    <option value="dinner">Dinner</option>
                                    <option value="custom">Custom Meal</option>
                                </select>
                                <label for="mealDetails">Meal Details:</label>
                                <textarea id="mealDetails" name="mealDetails" class="form-control"></textarea>
                            </div>

                            <div id="recreationFields" class="service-fields" style="display: none;">
                                <label for="recreationType">Recreation Type:</label>
                                <select id="recreationType" name="recreationType" class="form-control">
                                    <option value="pool">Swimming Pool</option>
                                    <option value="gym">Gym</option>
                                    <option value="spa">Spa</option>
                                    <option value="activities">Activities</option>
                                </select>
                                <label for="recreationDetails">Recreation Details:</label>
                                <textarea id="recreationDetails" name="recreationDetails" class="form-control"></textarea>
                            </div>

                            <div>
                                <label for="name">Name:</label>
                                <input type="text" id="name" name="name" class="form-control">
                            </div>
                            <div>
                                <label for="email">Email:</label>
                                <input type="email" id="email" name="email" class="form-control">
                            </div>
                            <div>
                                <label for="phone">Phone Number:</label>
                                <input type="text" id="phone" name="phone" class="form-control">
                            </div>
                            <div class="btn-box">
                                <button type="submit">Book Now</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block js %}
<script>
    document.getElementById('serviceType').addEventListener('change', function () {
        const serviceType = this.value;
        document.querySelectorAll('.service-fields').forEach(field => field.style.display = 'none');
        document.getElementById(`${serviceType}Fields`).style.display = 'block';
    });
</script>
{% endblock %}